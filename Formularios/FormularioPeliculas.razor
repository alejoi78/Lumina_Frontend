@using BlazorWeb.Entidades
@inject HttpClient Http

<h3>Formulario Películas</h3>

<EditForm Model="@pelicula">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="titulo">Título</label>
        <InputText id="titulo" @bind-Value="pelicula.Titulo" class="form-control" />
        <ValidationMessage For="@(() => pelicula.Titulo)" />
    </div>

    <div class="form-group">
        <label for="director">Director</label>
        <InputText id="director" @bind-Value="pelicula.Director" class="form-control" />
        <ValidationMessage For="@(() => pelicula.Director)" />
    </div>

    <div class="form-group">
        <label for="anio">Año</label>
        <InputNumber id="anio" @bind-Value="pelicula.Anio" class="form-control" />
        <ValidationMessage For="@(() => pelicula.Anio)" />
    </div>

    <div class="form-group">
        <label for="link">Enlace (Link)</label>
        <InputText id="link" @bind-Value="pelicula.Link" class="form-control" />
        <ValidationMessage For="@(() => pelicula.Link)" />
    </div>
    <div class="form-group">
        <label for="duracionhoras">DuracionHoras</label>
        <InputNumber id="duracionhoras" @bind-Value="pelicula.DuracionHoras" class="form-control" step="0.1" />
        <ValidationMessage For="@(() => pelicula.DuracionHoras)" />
    </div>
    <div class="form-group">
        <label for="genero">Género</label>
        <InputText id="genero" @bind-Value="pelicula.Genero" class="form-control" />
        <ValidationMessage For="@(() => pelicula.Genero)" />
    </div>

    <div class="form-group">
        <label for="calificacion">Calificación</label>
        <InputNumber id="calificacion" @bind-Value="pelicula.Calificacion" class="form-control" step="0.1" />
        <ValidationMessage For="@(() => pelicula.Calificacion)" />
    </div>

    <button type="button" class="btn btn-primary" @onclick="Cargar">Agregar</button>

    @if (!string.IsNullOrEmpty(mensaje))
    {
        <div class="mt-3 p-2 alert alert-info">
            @mensaje
        </div>
    }
</EditForm>

@code {
    private Pelicula pelicula = new Pelicula();
    private string mensaje = string.Empty;

    private void Cargar()
    {
        mensaje = $"Película: {pelicula.Titulo}, Director: {pelicula.Director}, Año: {pelicula.Anio}, " +
                 $"Género: {pelicula.Genero}, Calificación: {pelicula.Calificacion}, Link: {pelicula.Link}" +$"DuracionHoras: {pelicula.DuracionHoras}";
    }
}