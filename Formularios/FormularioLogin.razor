@using BlazorWeb.Entidades

<h3>Iniciar Sesión</h3>

<EditForm Model="@login" OnValidSubmit="ProcesarLogin">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="usuario">Usuario</label>
        <InputText id="usuario" @bind-Value="login.Usuario" class="form-control" />
        <ValidationMessage For="@(() => login.Usuario)" />
    </div>

    <div class="form-group">
        <label for="contrasena">Contraseña</label>
        <InputText id="contrasena" @bind-Value="login.Contrasena" type="password" class="form-control" />
        <ValidationMessage For="@(() => login.Contrasena)" />
    </div>

    <button type="submit" class="btn btn-primary">Ingresar</button>

    @if (!string.IsNullOrEmpty(mensaje))
    {
        <div class="alert alert-info mt-3">@mensaje</div>
    }
</EditForm>

@code {
    private Login login = new Login();
    private string mensaje = string.Empty;

    private void ProcesarLogin()
    {
        // Aquí puedes conectar con una API o validar datos
        mensaje = $"Bienvenido, {login.Usuario}";
    }
}
